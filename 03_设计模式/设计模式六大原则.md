### 降低访问耦合



#### **1. 接口最小化/接口分离原则（ISP）**

将一个统一的接口匹配为多个更独立的接口，避免不必要的耦合，实现接口最小化。



#### **2. 迪米特法则**

> 访问耦合的合理范围

1. 每个单元对于其他的单元只能拥有有限的知识，只是与当前单元紧密联系。
2. 每个单元只能和它的朋友交谈，不能和陌生单元交谈。
3. 只和自己直接的朋友交谈。



### 降低继承耦合



#### **3. 里氏替换原则（LSP）**

子类型必须能够替换掉基类型而起同样的作用（只要有父类出现的地方，都可以用子类替代）。

> 在希望复用代码又不能满足LSP时，往往会用组合来代替继承。

**对继承规则的四层约束**

* 子类必须实现父类的抽象方法，但不得重写（覆盖）父类的非抽象方法；
* 子类中可以增加自己特有的方法；
* 当子类覆盖或实现父类的方法时，方法的前置条件（方法形参）要比父类方法的输入参数要宽松。
* 当子类的方法实现父类抽象方法时，方法的后置条件（返回值）要比父类更严格。



### 提高内聚



#### 4. 单一职责原则（SRP）

一个高内聚的类不仅要是信息内聚的，还应该是功能内聚的，也就是说，信息与行为除了要集中之外，还要联合起来表达一个内聚的概念，而不是单纯的堆砌。



### 为变更而设计



#### 5. 开闭原则

好的设计只需要添加新的代码而不需要修改原有的代码，就能够实现变更。

1)    好的设计应该对“扩展”开放；
2)    好的设计应该对“修改”关闭；

要实现开闭原则仅仅依靠封装潜在变更是不够的，还需要充分利用抽象与多态机制；

> 多态机制：通过父类表现统一的接口，通过子类表现不同的行为；



#### 6. 依赖倒置原则

很多时候耦合的方向是很重要的（比如，A不稳定、B稳定，那么A发生修改可能会给B带来影响），这就是依赖倒置原则。

**依赖倒置是指：**

(1)   抽象不应该依赖于细节，细节应该依赖于抽象。因为抽象稳定，细节是不稳定的。
(2)   高层模块不应该依赖于底层模块，而是双方都依赖于抽象。因为抽象是稳定的，而高层模块和低层模块都可能是不稳定的。